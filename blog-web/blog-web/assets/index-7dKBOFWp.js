import{s as r,n as i}from"./index-05qZtuZM.js";function c(s){return r({url:`/api/getHotSearch/${s}`,method:"get"})}const o={name:"HotSearch",data(){return{searchText:"",currentEngine:"baidu",currentTab:"weibo",loading:!1,searchEngines:[{name:"baidu",label:"百度",icon:"baidu",url:"https://www.baidu.com/s?wd="},{name:"google",label:"谷歌",icon:"chrome",url:"https://www.google.com/search?q="},{name:"gitee",label:"码云",icon:"gitee",url:"https://search.gitee.com/?q="},{name:"github",label:"GitHub",icon:"github",url:"https://github.com/search?q="}],hotTabs:[{type:"weibo",label:"微博热搜",icon:"fab fa-weibo"},{type:"zhihu",label:"知乎热榜",icon:"fab fa-zhihu"},{type:"toutiao",label:"头条热榜",icon:"fas fa-fire"},{type:"baidu",label:"百度热搜",icon:"fas fa-chart-line"},{type:"csdn",label:"CSDN热榜",icon:"fas fa-code"}],hotLists:{weibo:[],zhihu:[],toutiao:[],baidu:[],csdn:[]}}},computed:{getCurrentEngine(){return this.searchEngines.find(s=>s.name===this.currentEngine)},currentHotList(){return this.hotLists[this.currentTab]||[]}},methods:{handleSearch(){if(!this.searchText.trim()){this.$message.warning("请输入搜索内容");return}const s=this.getCurrentEngine;window.open(s.url+encodeURIComponent(this.searchText),"_blank")},getRankClass(s){return s<3?`rank-${s+1}`:""},formatHotValue(s){return s>=1e4?(s/1e4).toFixed(1)+"w":s},async fetchHotList(s){this.loading=!0;try{const t=await c(s);this.hotLists[s]=t.data.data}catch{this.$message.error("获取热搜数据失败")}finally{this.loading=!1}},handleHotItemClick(s){s.url&&window.open(s.url,"_blank")},getTrendIcon(s){return s==="上升"?"fas fa-arrow-up text-success":s==="下降"?"fas fa-arrow-down text-danger":"fas fa-minus text-warning"}},watch:{currentTab:{immediate:!0,handler(s){this.fetchHotList(s)}}}};var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"hot-search-container"},[e("div",{staticClass:"hot-search"},[e("el-card",{staticClass:"search-box"},[e("div",{staticClass:"search-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{placeholder:`在 ${t.getCurrentEngine.label} 中搜索...`},domProps:{value:t.searchText},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.handleSearch.apply(null,arguments)},input:function(a){a.target.composing||(t.searchText=a.target.value)}}}),e("button",{staticClass:"search-btn",on:{click:t.handleSearch}},[e("i",{staticClass:"fas fa-search"})])]),e("div",{staticClass:"search-engines"},t._l(t.searchEngines,function(a){return e("button",{key:a.name,class:["engine-btn",{active:t.currentEngine===a.name}],on:{click:function(n){t.currentEngine=a.name}}},[e("svg-icon",{attrs:{"icon-class":a.icon}}),t._v(" "+t._s(a.label)+" ")],1)}),0)]),e("el-card",{staticClass:"hot-lists"},[e("div",{staticClass:"hot-tabs"},t._l(t.hotTabs,function(a){return e("button",{key:a.type,class:["tab-btn",{active:t.currentTab===a.type}],on:{click:function(n){t.currentTab=a.type}}},[e("i",{class:a.icon}),t._v(" "+t._s(a.label)+" ")])}),0),e("div",{staticClass:"hot-content"},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"hot-grid"},t._l(t.currentHotList,function(a,n){return e("div",{key:n,staticClass:"hot-card",class:[t.currentTab,{"top-rank":n<3}],on:{click:function(d){return t.handleHotItemClick(a)}}},[e("span",{staticClass:"rank",class:t.getRankClass(n)},[t._v(t._s(n+1))]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"title-wrap"},[e("a",{staticClass:"title",attrs:{href:a.url,target:"_blank"}},[t._v(t._s(a.keyword))]),a.tag?e("span",{staticClass:"hot-tag"},[t._v(t._s(a.tag))]):t._e()]),e("div",{staticClass:"card-footer"},[a.hotValue?e("span",{staticClass:"hot-value"},[e("i",{staticClass:"fas fa-fire"}),t._v(" "+t._s(t.formatHotValue(a.hotValue))+" ")]):t._e(),a.trend?e("span",{staticClass:"trend"},[e("i",{class:t.getTrendIcon(a.trend)})]):t._e()])])])}),0)])])],1)])},u=[],h=i(o,l,u,!1,null,"18f9aa3f");const g=h.exports;export{g as default};
